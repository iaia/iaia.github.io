これおかしい系の調査tips

- 以下は順序通りにやるのが好ましい
    - 前後しても構わない
    - が1番目は絶対に1番最初にやること
- とにもかくにも何がおかしいって言ってるのか見る
    - 確認して、確かにおかしいなと思ったら深堀りする
    - もしおかしいなと思えなかったら、その人が何を期待していて、今どうなっていておかしいと思うかを聞く
    - 時間が過ぎるとおかしい状況を確認できないことがある
        - 特定のデータ状況の組み合わせや、サーバーの状況、実装状況
        - 誰かが裏で直していて、1日後に見たら再現しないなどがある
        - closeしていいのか悩むことになる
    - 再現手順をその人が忘れる可能性もある
    - 再現手順や証憑(スクショ)を取っておくと後で見ることになっても分かりやすい
- 誰のデータがおかしいのか確認する
    - ユーザIDやそのオブジェクトのID
    - メモっておく
- 挙動を確かめる
    - 例えばブログサービス
    - ログ上では昨日ブログが1件も投稿されていない、おかしいみたいなケース
    - 自分も試しにブログを投稿してみる
    - シークレットモードでも確かめてみる
- 数値を確かめる
    - 数値がおかしいって言ってるケースはたいていサマリーの数値
    - 根本の1レコード1レコードが正しいかを確かめる
    - group byを外したりしてデータを確認する
    - 自分で一からクエリ書いてみるとより良い
- どこでおかしくなっているのか確認する
    - エンドユーザー側からおかしいのか
        - 例えばブログを投稿していないのか
        - ブログを投稿できないエラーがあるのか
    - アプリでおかしい? Webでおかしい?
    - 集計がおかしいのか
        - ブログの件数を数える方法がおかしいのか
    - 表示時におかしいのか
        - ブログ件数を出す管理画面で実装がバグっているのか
- 最近のリリースを確認する
    - それ関連のリリースがあればそれが怪しい可能性
    - あくまで可能性でそれに固執しないこと
- ローカルでも再現するか確認する
    - ローカルに変えてそのページを開いてみる
- 実装がどこにあるのか確認する
    - 実装がどこにあるのかを探すのは大変
    - さっと探すための手がかり
        - そのページのURL
        - その機能の実装上の名前(知っていれば)
        - あるいは表示されている固定の文言
            - 「500文字以内で投稿できます」とか
        - 最近のリリースに対応するPR
        - ローカルでそのページを開いたときの標準出力
- 実装を確認する
    - 見る
    - 1行ずつデバッグする
    - どこからデータを取ってきて、どういう集計をして、どういう出力をしているのか
    - 直近の実装者に話を聞きに行く
- 調べたことを全てメモしておく
    - 1ヶ月後に直すようなことは必ずある
    - 絶対に忘れる
    - もし自分がわからなくてパスしても、次の人がこの調査はしなくて良いとなる
        - あるいは調査がしやすくなる
        - クエリが書いてあれば、このクエリをちょこっと書き換えれば自分が確認したい数値が出せるとか
    - 「ここがこういうデータが入ってくるとおかしくなるので直して」と他の人にパスしやすい





